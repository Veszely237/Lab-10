<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    <h1>Lab 10</h1>
    <hr>
    <h2>XML List (Using Ajax)</h2>
    <hr>
    <p id="xmlList"></p>
    <hr>
    <h2>JSON List (Using jQuery)</h2>
    <hr>
    <p id="jsonList"></p>
    <button type="button" onclick="DownloadXML()">Download Grocery List (XML)</button>
    <button type="button" onclick="DownloadJSON()">Download Grocery List (JSON)</button>
    <script>
        function DownloadXML() {
            $.ajax({
                url: 'lab10.xml',
                type: 'GET',
                datatype: 'xml',
                success: function (data, status, request) {
                    ProcessXMLDocument(request.responseXML);
                },
                error: function (jqXHR, textStatus, errorThrown) { alert(textStatus); }
            });
        }
        function ProcessXMLDocument(xml) {
            $(xml).find("items item").each(function(index) {
                var name = $(this).find("name").text();
                var price = $(this).find("price").text();
                var quantity = $(this).find("quantity").text();
                $("#xmlList").append("<h3>Name: " + name + ", Price: $" + price + ", Quantity: " + quantity + "</h3>");
            });
        }
        function DownloadJSON() {
        $.ajax({
            url: 'lab10.json',
            type: 'GET',
            datatype: 'json',
            success: function (data) {
                var json = JSON.parse(data);
                ProcessJSONDocument(json);
            },
            error: function (jqXHR, textStatus, errorThrown) { 
                alert(textStatus);
            }
        });
    }
    function ProcessJSONDocument(json) {
        $("#xmlList").append("<h3>Name: " + json.name + ", Price: $" + json.price + ", Quantity: " + json.quantity + "</h3>");
        }
    </script>
</body>
</html>